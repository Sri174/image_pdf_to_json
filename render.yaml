# Render service definition for this invoice processing app
# After adding this file, create the service in Render (https://render.com) and connect it to this repo.
# Do NOT store secrets in the repo. Set `GEMINI_API_KEY` and other secrets via Render's Dashboard (Environment > Environment Variables).

services:
  - type: web
    name: invoice-processor
    env: python
    region: oregon
    plan: free
    repo: https://github.com/Sri174/image_pdf_to_json.git
    branch: main
    autoDeploy: true

    buildCommand: |
      apt-get update &&
      apt-get install -y libzbar0 libgl1 poppler-utils &&
      pip install -r requirements.txt

    startCommand: streamlit run streamlit_app.py --server.port $PORT --server.headless true
